<html>
	<head>
		<title>Prueba</title>
		<script language="JavaScript" src="../js/lib/prototype/prototype.js"></script>
		<script language="JavaScript" src="../js/lib/prototype/prototype.improvements.js"></script>
		<script language="JavaScript" src="../js/lib/scriptaculous/scriptaculous.js"></script>
		<script language="JavaScript" src="../js/lib/HelpBalloons/HelpBalloon.js"></script>
		<script language="JavaScript" src="../js/persistenceEngine/PersistenceEngine.js"></script>
		<script language="JavaScript" src="../js/resourceModel/UIUtils.js"></script>
		<script language="JavaScript" src="../js/resourceModel/Catalogue.js"></script>
		<script language="JavaScript" src="../js/resourceModel/Resource.js"></script>
		<script language="JavaScript" src="../js/resourceModel/Tagger.js"></script>
		<script language="JavaScript" src="../js/resourceModel/Tag.js"></script>
		<script language="JavaScript" src="../js/resourceModel/HashTable.js"></script>
		<script type="text/javascript">
			function Prueba()
			{
				onError = function(transport) {
					alert("Error");
					// Process
				}
		
				loadGET = function(transport) {
					var response = transport.responseText;
					alert("Respuesta:\n" + response);
				}
				
				loadPOST = function(transport) {
					var response = transport.responseText;
					alert("Respuesta:\n" + response);
				}
				
				this.enviarGET = function() {
					var uri = prompt("URI del recurso", "");
					PersistenceEngineFactory.getInstance().send_get (uri, this, loadGET, onError);
				}
				
				this.enviarPOST = function() {
					var uri = prompt("URI del recurso", "");
					var value = prompt("Mensaje a enviar", "");
					PersistenceEngineFactory.getInstance().send_post (uri, value, this, loadPOST, onError);
				}
			}
			
			var prueba = new Prueba();
			
			if (confirm("Pulsa 'SI' para GET y 'NO' para POST"))
				prueba.enviarGET();
			else
				prueba.enviarPOST();
			
		</script>
	</head>
	<body>
	</body>
</html>