<?xml version="1.0" encoding="utf-8"?>
<django-objects version="1.0">
    <object pk="1" model="gadget.variabledef">
        <field type="CharField" name="name">RSSYurl</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">SLOT</field>
        <field type="CharField" name="label">url</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">youtube_url</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">1</field>
    </object>
    <object pk="2" model="gadget.variabledef">
        <field type="CharField" name="name">phoneNumber</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">EVEN</field>
        <field type="CharField" name="label">PhoneNumber</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">phone</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">23</field>
    </object>
    <object pk="3" model="gadget.variabledef">
        <field type="CharField" name="name">serviceHired</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">EVEN</field>
        <field type="CharField" name="label">ServiceHired</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">service</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">23</field>
    </object>
    <object pk="4" model="gadget.variabledef">
        <field type="CharField" name="name">rssUrl</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">EVEN</field>
        <field type="CharField" name="label">rssUrl</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">youtube_url</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">24</field>
    </object>
    <object pk="5" model="gadget.variabledef">
        <field type="CharField" name="name">address</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">SLOT</field>
        <field type="CharField" name="label">Address</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">address</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">25</field>
    </object>
    <object pk="6" model="gadget.variabledef">
        <field type="CharField" name="name">address</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">SLOT</field>
        <field type="CharField" name="label">Address</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">address</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">26</field>
    </object>
    <object pk="7" model="gadget.variabledef">
        <field type="CharField" name="name">bg</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">PREF</field>
        <field type="CharField" name="label">background color</field>
        <field type="CharField" name="description">descripcion</field>
        <field type="CharField" name="friend_code"><None></None></field>
        <field type="TextField" name="default_value"></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">27</field>
    </object>
    <object pk="8" model="gadget.variabledef">
        <field type="CharField" name="name">textcolor</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">PREF</field>
        <field type="CharField" name="label">text color</field>
        <field type="CharField" name="description">descripcion</field>
        <field type="CharField" name="friend_code"><None></None></field>
        <field type="TextField" name="default_value"></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">27</field>
    </object>
    <object pk="9" model="gadget.variabledef">
        <field type="CharField" name="name">nota</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">PROP</field>
        <field type="CharField" name="label"><None></None></field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code"><None></None></field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">27</field>
    </object>
    <object pk="10" model="gadget.variabledef">
        <field type="CharField" name="name">rssUrl</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">SLOT</field>
        <field type="CharField" name="label">rssUrl</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">rssUrl</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">28</field>
    </object>
    <object pk="11" model="gadget.variabledef">
        <field type="CharField" name="name">rssUrl</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">EVEN</field>
        <field type="CharField" name="label">rssUrl</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">rssUrl</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">29</field>
    </object>
    <object pk="12" model="gadget.variabledef">
        <field type="CharField" name="name">address</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">EVEN</field>
        <field type="CharField" name="label">Address</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">address</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">31</field>
    </object>
    <object pk="13" model="gadget.variabledef">
        <field type="CharField" name="name">phoneNumber</field>
        <field type="CharField" name="type">S</field>
        <field type="CharField" name="aspect">SLOT</field>
        <field type="CharField" name="label">PhoneNumber</field>
        <field type="CharField" name="description"></field>
        <field type="CharField" name="friend_code">phone</field>
        <field type="TextField" name="default_value"><None></None></field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">31</field>
    </object>
    <object pk="1" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Reproductor_Youtube/1.3</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">Reproductor_Youtube</field>
        <field type="CharField" name="version">1.3</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">1</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">1</field>
        <field type="CharField" name="author">jmartin</field>
        <field type="CharField" name="mail">jjmr@tid.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/reproductor_youtube</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/tuberep.png</field>
        <field type="CharField" name="description">Reproductor de videos de Youtube</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="2" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Bandeja_de_Averias/1.0</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">Bandeja_de_Averias</field>
        <field type="CharField" name="version">1.0</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">23</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">2</field>
        <field type="CharField" name="author">miglesia</field>
        <field type="CharField" name="mail">miglesia@pegaso.ls.fi.upm.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/Bandeja_de_Averias</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/RedLightBulb.gif</field>
        <field type="CharField" name="description">Este gadget presenta una lista de averias registradas por usuarios y la informacion relativa a ellas</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="3" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/tube_search/1.3</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">tube_search</field>
        <field type="CharField" name="version">1.3</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">24</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">3</field>
        <field type="CharField" name="author">agarcia</field>
        <field type="CharField" name="mail">abgp@tid.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/youtubeSearch</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/tubesearch.png</field>
        <field type="CharField" name="description">buscador youtube</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="4" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Localizador/1.0</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">Localizador</field>
        <field type="CharField" name="version">1.0</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">25</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">4</field>
        <field type="CharField" name="author">miglesia</field>
        <field type="CharField" name="mail">miglesia@pegaso.ls.fi.upm.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/Localizador</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/brujula.gif</field>
        <field type="CharField" name="description">Este gadget presenta la ubicacion en el plano de una determinada direccion</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="5" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/LocalizadorPequeno/1.0</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">LocalizadorPequeno</field>
        <field type="CharField" name="version">1.0</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">26</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">5</field>
        <field type="CharField" name="author">miglesia</field>
        <field type="CharField" name="mail">miglesia@pegaso.ls.fi.upm.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/LocalizadorPequeno</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/brujula.gif</field>
        <field type="CharField" name="description">Este gadget presenta la ubicacion en el plano de una determinada direccion</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="6" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/SimpleNotepad/1.0</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">SimpleNotepad</field>
        <field type="CharField" name="version">1.0</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">27</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">6</field>
        <field type="CharField" name="author">jmartin</field>
        <field type="CharField" name="mail">jjmr@tid.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/Notepad</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/postit.gif</field>
        <field type="CharField" name="description">Este gadget permite anadir una nota personal</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="7" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/RSSReader/1.0</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">RSSReader</field>
        <field type="CharField" name="version">1.0</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">28</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">7</field>
        <field type="CharField" name="author">jlopez</field>
        <field type="CharField" name="mail">jlopez@pegaso.ls.fi.upm.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/RSSReader</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/rss.jpg</field>
        <field type="CharField" name="description">Este gadget muestra un feed RSS 2.0</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="8" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/RSSList/1.0</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">RSSList</field>
        <field type="CharField" name="version">1.0</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">29</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">8</field>
        <field type="CharField" name="author">jlopez</field>
        <field type="CharField" name="mail">jlopez@pegaso.ls.fi.upm.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000/RSSList</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/rss.jpg</field>
        <field type="CharField" name="description">Este gadget muestra un Lista de Feeds RSS</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="9" model="gadget.gadget">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Visor_Datos_Usuario/1.0</field>
        <field type="CharField" name="vendor">Morfeo</field>
        <field type="CharField" name="name">Visor_Datos_Usuario</field>
        <field type="CharField" name="version">1.0</field>
        <field to="gadget.template" name="template" rel="ManyToOneRel">31</field>
        <field to="gadget.xhtml" name="xhtml" rel="ManyToOneRel">9</field>
        <field type="CharField" name="author">miglesia</field>
        <field type="CharField" name="mail">miglesia@pegaso.ls.fi.upm.es</field>
        <field type="CharField" name="wikiURI">http://piccolo.ls.fi.upm.es:7000//Visor_Datos_Usuario</field>
        <field type="CharField" name="imageURI">http://europa.ls.fi.upm.es/ezweb/gadgets/person.jpg</field>
        <field type="CharField" name="description">Este gadget presenta la informacion relativa a un usuario para el cual se ha detectado una averia</field>
        <field type="BooleanField" name="shared">False</field>
        <field to="auth.user" name="user" rel="ManyToOneRel">1</field>
        <field type="DateTimeField" name="last_update"><None></None></field>
    </object>
    <object pk="1" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Reproductor_Youtube/1.3/template</field>
        <field type="CharField" name="description">Reproductor de videos de Youtube</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/tuberep.png</field>
        <field type="IntegerField" name="width">1</field>
        <field type="IntegerField" name="height">20</field>
    </object>
    <object pk="23" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Bandeja_de_Averias/1.0/template</field>
        <field type="CharField" name="description">Este gadget presenta una lista de averias registradas por usuarios y la informacion relativa a ellas</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/RedLightBulb.gif</field>
        <field type="IntegerField" name="width">3</field>
        <field type="IntegerField" name="height">11</field>
    </object>
    <object pk="24" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/tube_search/1.3/template</field>
        <field type="CharField" name="description">buscador youtube</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/tubesearch.png</field>
        <field type="IntegerField" name="width">1</field>
        <field type="IntegerField" name="height">22</field>
    </object>
    <object pk="25" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Localizador/1.0/template</field>
        <field type="CharField" name="description">Este gadget presenta la ubicacion en el plano de una determinada direccion</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/brujula.gif</field>
        <field type="IntegerField" name="width">2</field>
        <field type="IntegerField" name="height">27</field>
    </object>
    <object pk="26" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/LocalizadorPequeno/1.0/template</field>
        <field type="CharField" name="description">Este gadget presenta la ubicacion en el plano de una determinada direccion</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/brujula.gif</field>
        <field type="IntegerField" name="width">1</field>
        <field type="IntegerField" name="height">25</field>
    </object>
    <object pk="27" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/SimpleNotepad/1.0/template</field>
        <field type="CharField" name="description">Este gadget permite anadir una nota personal</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/postit.gif</field>
        <field type="IntegerField" name="width">1</field>
        <field type="IntegerField" name="height">11</field>
    </object>
    <object pk="28" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/RSSReader/1.0/template</field>
        <field type="CharField" name="description">Este gadget muestra un feed RSS 2.0</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/rss.jpg</field>
        <field type="IntegerField" name="width">1</field>
        <field type="IntegerField" name="height">15</field>
    </object>
    <object pk="29" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/RSSList/1.0/template</field>
        <field type="CharField" name="description">Este gadget muestra un Lista de Feeds RSS</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/rss.jpg</field>
        <field type="IntegerField" name="width">1</field>
        <field type="IntegerField" name="height">10</field>
    </object>
    <object pk="31" model="gadget.template">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Visor_Datos_Usuario/1.0/template</field>
        <field type="CharField" name="description">Este gadget presenta la informacion relativa a un usuario para el cual se ha detectado una averia</field>
        <field type="CharField" name="image">http://europa.ls.fi.upm.es/ezweb/gadgets/person.jpg</field>
        <field type="IntegerField" name="width">1</field>
        <field type="IntegerField" name="height">11</field>
    </object>
    <object pk="1" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Reproductor_Youtube/1.3/xhtml</field>
        <field type="TextField" name="code">&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;script&gt;
var url = EzWebAPI.createRGadgetVariable("RSSYurl", loadVideo);


function loadVideo(url_){

 var embed = document.createElement('embed');
 embed.setAttribute('src',url_);
 embed.setAttribute('width',340);
 embed.setAttribute('height',260);
 embed.id="rep";

 var divAnt = document.getElementById("video");
 var divVideo = document.createElement("div");
 divVideo.id="video";
 divVideo.appendChild(embed);
 document.body.replaceChild(divVideo,divAnt);
 }


&lt;/script&gt;

&lt;div id="video"&gt;&lt;embed id="rep" width="340" height="260" src="http://www.youtube.com/v/d6C0bNDqf3Y&amp;rel=1" type="application/x-shockwave-flash" wmode="transparent"&gt;&lt;/embed&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</field>
    </object>
    <object pk="2" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Bandeja_de_Averias/1.0/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;&lt;head&gt;

&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;&lt;title&gt;Bandeja de Averias&lt;/title&gt;

&lt;script&gt;
var phoneNumber = EzWebAPI.createRWGadgetVariable("phoneNumber");
var serviceHired = EzWebAPI.createRWGadgetVariable("serviceHired");

function sendData(row){
var rows = document.getElementsByTagName("td");
phoneNumber.set(rows[row*5+1].innerHTML);
serviceHired.set(rows[row*5+4].innerHTML);
}
&lt;/script&gt;&lt;/head&gt;&lt;body&gt;
&lt;!-- This table will disappear in following version --&gt;
&lt;table style="margin: 0px; padding: 0px; font-family: Arial; font-size: 14px; text-align: center; width: 95%; height: 50px;" cellspacing="0"&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;th id="th0" style="border: 1px outset rgb(221, 221, 221); background-color: rgb(0, 0, 119); color: rgb(255, 255, 255); width: 12%;"&gt;Identificador de averia&lt;/th&gt;
&lt;th id="th1" style="border: 1px outset rgb(221, 221, 221); background-color: rgb(0, 0, 119); color: rgb(255, 255, 255); width: 12%;"&gt;Telefono&lt;/th&gt;
&lt;th id="th2" style="border: 1px outset rgb(221, 221, 221); background-color: rgb(0, 0, 119); color: rgb(255, 255, 255); width: 32%;"&gt;Usuario&lt;/th&gt;
&lt;th id="th3" style="border: 1px outset rgb(221, 221, 221); background-color: rgb(0, 0, 119); color: rgb(255, 255, 255); width: 32%;"&gt;Descripcion del sintoma&lt;/th&gt;
&lt;th id="th4" style="border: 1px outset rgb(221, 221, 221); background-color: rgb(0, 0, 119); color: rgb(255, 255, 255); width: 12%;"&gt;Servicio contratado&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="breakDown" onclick="sendData(0)" style="border: 1px outset rgb(221, 221, 221); color: rgb(0, 0, 119); text-decoration: underline; cursor: pointer;" align="center" valign="middle"&gt;averia-0&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;913933233&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;Gonzalez Perez, Alejandro&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;El usuario no es capaz de navegar por Internet&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;INTERNET&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="breakDown" onclick="sendData(1)" style="border: 1px outset rgb(221, 221, 221); color: rgb(0, 0, 119); text-decoration: underline; cursor: pointer;" align="center" valign="middle"&gt;averia-1&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);" align="center" valign="middle"&gt;915334432&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);" align="center" valign="middle"&gt;Lopez Romero, Marta&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);" align="center" valign="middle"&gt;No puede comprar contenidos v PPV&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);" align="center" valign="middle"&gt;TV&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="breakDown" onclick="sendData(2)" style="border: 1px outset rgb(221, 221, 221); color: rgb(0, 0, 119); text-decoration: underline; cursor: pointer;" align="center" valign="middle"&gt;averia-10&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;916432233&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;Fernandez Bartolome, Rodrigo&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;El usuario navega mas lento que la velocidad contratada&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;INTERNET&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="breakDown" onclick="sendData(3)" style="border: 1px outset rgb(221, 221, 221); color: rgb(0, 0, 119); text-decoration: underline; cursor: pointer;" align="center" valign="middle"&gt;averia-11&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;917294723&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;Perez Casas, Maria&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;El usuario no es capaz de navegar por Internet&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;INTERNET&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="breakDown" onclick="sendData(4)" style="border: 1px outset rgb(221, 221, 221); color: rgb(0, 0, 119); text-decoration: underline; cursor: pointer;" align="center" valign="middle"&gt;averia-2&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;917744331&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;Garcia Casas, Alberto&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;El usuario ve la television pixelada&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;TV&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="breakDown" onclick="sendData(5)" style="border: 1px outset rgb(221, 221, 221); color: rgb(0, 0, 119); text-decoration: underline; cursor: pointer;" align="center" valign="middle"&gt;averia-8&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;917744331&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;Garcia Casas, Alberto&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;El usuario no es capaz de navegar por Internet&lt;/td&gt;
&lt;td style="border: 1px outset rgb(221, 221, 221);"&gt;TV&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/body&gt;&lt;/html&gt;
</field>
    </object>
    <object pk="3" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/tube_search/1.3/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;style type="text/css"&gt;
&lt;!--
body,td,div,span,p{font-family:arial,sans-serif;}a {color:#0000cc; }a:visited { color:#551a8b; }a:active { color:#ff0000; }body {margin: 0px;padding: 0px;   background-color: white;   }
--&gt;
&lt;/style&gt;
&lt;style&gt;

  .slot {

    cursor:hand;

    cursor:pointer;

    width: 89px;

    display:none;

    text-align: center;

    margin-left: auto;

    margin-right: auto;

    padding-top:2px;

    vertical-align: middle;

  }



  .browseitemtitle {

    margin-left:2px;

    font-size: 8pt;

    text-align: left;

    white-space: nowrap;

  }



  .browseitemduration {

    margin-left:2px;

    font-size: 8pt;

    text-align: left;

  }

 

  .infowatch{

    font-size: 8pt;

  }



  .videotitle {

    font-size: 9pt;

    font-weight: bold;

  }



  .videoinfolabel {

    font-size: 8pt;

  }



  .videoinfo {

    font-size: 8pt;

    overflow:scroll;

    font-weight: bold;

  }



  .description {

    font-size: 8pt;

    overflow:auto;

  }

 

  .thumb {

    width: 85px;

    height: 64px;

    padding: 1px;

    border: 1px solid #666666;

    text-align: middle;

  }

  

  .player { 

    margin-top:2px; 

    margin-bottom: 2px; 

    width: 100%;

    height:200px;



  }



  .videobar{

    background:#F6F6F6 none repeat scroll 0%;

    border: 1px solid #CCCCCC;

    voice-family: "\"}\"";

    voice-family: inherit;

    padding: 2px;

  }



  .contentpane {

    clear:both;

    margin-top: 2px; 

    padding-left: 2px; 

    padding-right: 2px; 

    font-size: 8pt;

    font-family: arial,helvetica;

    height: 248px;

  }



  .infopane {

    clear:both;

    font-size: 8pt;

    font-family: arial,helvetica;

    vertical-align: middle;

    border-top: solid 1px #cccccc;

    border-right: solid 1px #cccccc;

    border-left: solid 1px #cccccc;

    height:201;

    overflow:auto;

  }

 

  .pager {

    font-size: 8pt; 

    margin-top: -2px;

    text-align: right;

    white-space: nowrap; 

    display: none;

  }



  .hbar {

    width:100%; 

    white-space:nowrap;

    clear:both;

  }



  .loading {

    visibility:hidden;

    position: absolute; 

    font-family:arial, helvetica; 

    font-size: 8pt; 

    padding:0px;

    margin:0px;

    margin-left:4px;

  }



  .message {

    text-align: center; 

    display:none; 

    font-family:arial, helvetica; 

    font-size: 10pt;

    padding-top: 30px;

    height: 208px; 

    vertical-align:middle;

    white-space:normal;

  }



  wbr:after { content: "\00200B" }



  * html .thumb {

    border: 1px solid white;

  }



  * html .thumbSpan {

    border: 1px solid #666666;

  }

&lt;/style&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;script&gt;

	var rssUrl = EzWebAPI.createRWGadgetVariable("rssUrl");
	//var widgetLoaded = false;
    /*function initializeWidget() {
      loadPreferences();
      rebuildChannelList();
      window.onresize = handleResize;
      handleResize();

      if (rawQuery) {
        // If the host page requests it, run a search
        doSearch(rawQuery);
      } else {
        // Manually cause the list to react.
        // Doesn't seem to work well when used in combination with doSearch,
        // which does it's own "onchange"
        document.getElementById("channellist").onchange();
      }
    }*/
	
	/* Channels */
    var currentChannelId = 0;
    var channels = [
      ["Ultimos destacados", "http://youtube.com/rss/global/recently_featured_es_ES.rss"],
      ["Superfavoritos", "http://youtube.com/rss/global/top_favorites_es_ES.rss"],
      ["Mas valorados", "http://youtube.com/rss/global/top_rated_es_ES.rss"],
      ["Mas vistos hoy", "http://youtube.com/rss/global/top_viewed_today_es_ES.rss"],
      ["Mas comentados hoy", "http://youtube.com/rss/global/most_discussed_today_es_ES.rss"],
      ["Anadidos recientemente", "http://youtube.com/rss/global/recently_added_es_ES.rss"]
    ];
    var defaultChannels = channels.length;
	
	/* User preference management */
    //var prefs = new _IG_Prefs();
    var MAX_SAVED_SEARCHES = 3;
    var CURRENT_PREFS_VERSION = 2;
    //var rawQuery = "";

function load(){
    rebuildChannelList();
    document.getElementById("channellist").onchange();
}

/*
	function loadPreferences() {
      var prefs_version = prefs.getInt("prefs_version");
      if (prefs_version &lt; CURRENT_PREFS_VERSION) {
        // Do nothing.
      } else if (prefs_version == CURRENT_PREFS_VERSION) {
        var search_channels = prefs.getInt("search_channels");
        for (var i = 0; i &lt; Math.min(MAX_SAVED_SEARCHES, search_channels); i++) {
          var name = prefs.getString("search_channel_name" + i);
          var url = prefs.getString("search_channel_url" + i);
          channels[i + defaultChannels] = [name, url];
        }
        // If this channel number is no longer valid for whatever reason
        // we'll just fallback when trying to set it as the current one
        currentChannelId = prefs.getInt("current_channel_id");
      }
      
      // host page requested initial search to run
      rawQuery = prefs.getString("rawQuery");
    }
	*/
	
	/* DOM manipulation helpers */
    function showElements() {
      for (var i = 0; i &lt; arguments.length; i++) {
        document.getElementById(arguments[i]).style.display = "block";
      }
    }

    function hideElements() {
      for (var i = 0; i &lt; arguments.length; i++) {
        document.getElementById(arguments[i]).style.display = "none";
      }
    }
 
    function clearElement(el) {
      while(el.firstChild) {
        el.removeChild(el.firstChild);
      }
    }
    
    function setElementText(element_id, text) {
      el = document.getElementById(element_id);
      clearElement(el);
      el.appendChild(document.createTextNode(text));
    }

    function getDivHeight(div) {
      if (div.clientHeight) {
        return div.clientHeight;
      } else if (div.offsetHeight) {
        return div.offsetHeight;
      }
    }
    
    function getDivWidth(div) {
      if (div.clientWidth) {
        return div.clientWidth;
      } else if (div.offsetWidth) {
        return div.offsetWidth;
      }
    }

    function addItemToList(list, id, text, value) {
      var option = new Option(text, value);
      option.id = id;
      try {
        list.add(option);
      } catch (e) {
        list.appendChild(option);
      }
    }
	
	// Gets the id of the listbox item for a particular channel
    // index    
    function channelNodeId(index) {
      return "channel_" + index;
    }
 
     /* UI state management */
    // Main gadget states
    var GS_BROWSE = 0;
    //var GS_WATCH = 1;
    //var GS_INFO = 2;
    var GS_LOADING = 3;
    var GS_DISCONNECTED = 4;
    var GS_NORESULTS = 5;
    var GS_LOADING_INFO = 6;
    var gadgetState = GS_LOADING;
    //var MINI_WIDTH = 270;
    var miniMode = false; 
    function goToNewState(newState) {
      if (newState == GS_LOADING) {
        /*if (gadgetState == GS_INFO || gadgetState == GS_WATCH) {
          goToNewState(GS_BROWSE);
        }*/
        document.getElementById("loading").style.visibility = "visible";
      }/*else if (newState == GS_LOADING_INFO) {
        setElementText("infoAdded",  "");
        setElementText("infoFrom", "");
        setElementText("infoViews", "");
        setElementText("infoRatings", ""); 
        setElementText("infoDescription", ""); 
        document.getElementById("infoThumb").src = "";
        document.getElementById("infoThumb").style.visibility = "hidden";
        
        hideElements("message", "infolink", "innerWatchVideos", "chooseVideos",
            "pager");
        showElements("hideLink", "infopane", "backlink");
 
        document.getElementById("loadinginfo").style.visibility = "visible";
      }*/else if (newState == GS_DISCONNECTED) {
        hideElements("backlink", "pager", "watchVideos", "chooseVideos");
        showElements("message");
        displayMessage("No se puede conectar con YouTube, reintentando...");
      }else if (newState == GS_NORESULTS) {
        hideElements("watchVideos", "chooseVideos", "backlink", "pager");
        showElements("message"); 
        displayMessage("No se han encontrado resultados.");
        document.getElementById("query").focus();
      }/*else if (newState == GS_WATCH) {
        hideElements("infopane", "message", "chooseVideos", "pager",
            "hideLink");
        showElements( "watchVideos", "innerWatchVideos", "backlink", 
            "infolink");
      }*/else if (newState == GS_BROWSE) {
        hideElements("watchVideos", "message", "backlink", "infopane");
        showElements("chooseVideos", "pager");
      }/*else if (newState == GS_INFO) {
        hideElements("message", "infolink", "innerWatchVideos", "chooseVideos",
            "pager");
        showElements("hideLink", "infopane", "backlink");

        document.getElementById("infoThumb").style.visibility = "visible";
      }
      */
      if (newState != GS_LOADING &amp;&amp; newState != GS_LOADING_INFO) {
        document.getElementById("loading").style.visibility = "hidden";
        document.getElementById("loadinginfo").style.visibility = "hidden";
      }

      gadgetState = newState;
    }

 
    // Called initially and whenever the list of channels changes
    function rebuildChannelList() {
      // add all channels
      var list = document.getElementById("channellist");
      clearElement(list);
      
      for (var i = 0; i &lt; channels.length; i++)  {
        addItemToList(list, channelNodeId(i), channels[i][0], i);
      }
      
      // go to the current visited channel
      document.getElementById(channelNodeId(currentChannelId)).selected = true;
    }
	
	// Search helper
    function getSearchUrl(query) {
      return "http://youtube.com/rss/search_by_relevance/" + 
          encodeURI(query) + ".rss";
    } 
	
	// Does a search by requesting the RSS feed for the query from YT
	function doSearch(query) {
      if (query == "") {
        return;
      }

      var queryName = '"' + query + '"';
      var queryUrl = getSearchUrl(query); 

      var newChannelId = 0;
      var alreadyInList = false;

      // if this query is already in the channel list, just select it
      for (var i = 0; i &lt; channels.length; i++) {
        if (channels[i][0] == queryName &amp;&amp; channels[i][1] == queryUrl) {
          newChannelId = i;
          alreadyInList = true;
          break;
        }
      }
      
      // otherwise add it
      if (!alreadyInList) {
        // keep the last MAX_SAVED_SEARCHES searches in the channel list
        if (channels.length - defaultChannels == MAX_SAVED_SEARCHES) {
          for (var i = 0; i &lt; MAX_SAVED_SEARCHES - 1; i++) {
            channels[defaultChannels + i] = channels[defaultChannels + i + 1];
          }
          // replace last one
          channels[channels.length - 1] = [queryName, queryUrl];
        } else {
          // append
          channels[channels.length] = [queryName, queryUrl];
        }
        
        rebuildChannelList();
        newChannelId = channels.length - 1; 
      }
      document.getElementById(channelNodeId(newChannelId)).selected = true;
      document.getElementById("channellist").onchange();
    }
	
	// Handle channel change from UI or Search
    function changeChannel(selected) { 
      currentChannelId = selected.value
      channelUrl = channels[currentChannelId][1];
      if (currentChannelId &gt;= defaultChannels) {
        var queryName = channels[currentChannelId][0];
        var query = queryName.substr(1,queryName.length-2);
        if(document.getElementById("query").value != query) {
          document.getElementById("query").value = query;
        }
      }
      
      // Skip saving prefs if we're still loading
      /*if (widgetLoaded) {
        savePreferences();
      }*/

      goToNewState(GS_LOADING);
      // TODO: move setp calls to here?
      EzWebAPI.send_get(channelUrl, this, handleChannelXml, handleChannelXmlError);
    }
	
    // Callback once we've recieved channel data from YouTube
    var CONNECTION_RETRY_SECONDS = 10;
    var MAX_SEARCH_RESULTS = 24;

    function handleChannelXmlError(response){
        goToNewState(GS_DISCONNECTED);
        setTimeout(rebuildChannelList, CONNECTION_RETRY_SECONDS * 1000);
        return;
    }

    function handleChannelXml(response) {

      var items = response.responseXML.getElementsByTagName("item");
      videos = new Array();
try{
      for (var i = 0; i &lt; items.length &amp;&amp; 
          videos.length &lt;= MAX_SEARCH_RESULTS; i++) {
        var video = new Object();
        for (var j = 0; j &lt; items[i].childNodes.length; j++) {
          if (items[i].childNodes[j].nodeName == "enclosure") {
            var url = items[i].childNodes[j].getAttribute("url");
            var duration = items[i].childNodes[j].getAttribute("duration");
            video.swf = url;
            video.id = url.replace(/.*\/v\/(.*)\.swf/, "$1");
            video.index = videos.length;
            video.duration = duration;
          }
          if (items[i].childNodes[j].nodeName == "media:thumbnail") {
            var url = items[i].childNodes[j].getAttribute("url");
            video.thumbnail = url;
          }
          if (items[i].childNodes[j].nodeName == "title") {
            video.title = getXmlNodeText(items[i].childNodes[j])
          }
        }
        videos.push(video);
      }
      
      if (videos.length &gt; 0) {
        currentVideoIndex = 0;
        renderBrowsePage(0);
      } else {
        goToNewState(GS_NORESULTS);
      }

}catch (e){
alert("excepcion");
}
    }


   // Start playback of a particular video
//    var currentPlayerDivId = 0;
    function loadVideo(video) {
	rssUrl.set (video.swf);
/*      goToNewState(GS_WATCH); 

      currentVideoIndex = video.index;
      // firefox/flash seem to have a bug which needs this double buffering
      // work-around
      pd = "video" + currentPlayerDivId;
      currentPlayerDivId = 0 + !currentPlayerDivId;
      cd = "video" + currentPlayerDivId;

      document.getElementById(pd).style.display = "none";
      clearElement(document.getElementById(pd));
      document.getElementById(cd).style.display = "block";

      var fo = 
          new SWFObject(video.swf, "movie_player", "100%", "200", 7, "#FFFFFF");
      fo.addParam("wmode", "transparent");
      fo.addParam("flashvars", "autoplay=1");
      setTimeout(function() {fo.write(cd)}, 10);

      setElementText("videoDuration", renderDuration(video.duration));
      renderTitle(video.title);*/
      
    }

   function loadVideoLater(video) {
      return function() {loadVideo(video);};
    }

    /* Browse page */
    var VIDEO_SLOTS = 6; 
    var VIDEO_SLOTS_PER_ROW = 3; 
    var miniMode = false;
    var currentPage = 0;
    
    function videosPerPage() {
      return miniMode ? 4 : 6;
    }

    function renderBrowsePage(newPage) {
      // Clear and hide video slots
      for (var i = 0; i &lt; VIDEO_SLOTS; i++) {
         clearElement(document.getElementById("link" + i));
        document.getElementById("slot" + i).style.display = "none";
      }
      
      // Decide on videos per page and current page
      var lastPage = Math.floor(videos.length/videosPerPage());
      currentPage = newPage;
      if (currentPage &gt; lastPage) {
        currentPage = lastPage;
      } 

      if(miniMode) {
        document.getElementById("cell0").style.width = "50%";
        document.getElementById("cell1").style.width = "50%";
        document.getElementById("cell2").style.width = "0px";
      } else {
        document.getElementById("cell0").style.width = "33%";
        document.getElementById("cell1").style.width = "33%";
        document.getElementById("cell2").style.width = "33%";
      }
      
      // Fill the slots
      for (var i = 0; i &lt; videosPerPage(); i++) {
        var videoId = currentPage * videosPerPage() + i;

        // Stop if out of videos 
        if (videoId &gt;= videos.length) {
          break;
        }
 
        var slotId = i + (miniMode ? Math.floor(i/(VIDEO_SLOTS_PER_ROW-1)) : 0);
        var video = videos[videoId];

        // set up slot
        document.getElementById("slot" + slotId).style.display = "block";
        document.getElementById("slot" + slotId).onclick = loadVideoLater(video);
        
        // insert thumb
        var thumb = document.createElement("img");
        thumb.id = "thumb" + i;
        thumb.className = "thumb";
        thumb.src = video.thumbnail;
        thumb.title = video.title;
       
        var span = document.createElement("span");
        span.className = "thumbSpan";
        span.appendChild(thumb);
       
        clearElement(document.getElementById("link" + slotId));
        document.getElementById("link" + slotId).appendChild(span);
        
        // fill in title and duration
        clearElement(document.getElementById("title" + slotId));
        clearElement(document.getElementById("duration" + slotId));
        title = document.createTextNode(truncate(video.title, 15));
        duration = document.createTextNode("" + renderDuration(video.duration));
        document.getElementById("title" + slotId).appendChild(title);
        document.getElementById("duration" + slotId).appendChild(duration);
      }

      renderPager(currentPage);
      goToNewState(GS_BROWSE); 
    }

    /* Pager */ 
    function renderBrowsePageLater(newPage) {
      return function() {renderBrowsePage(newPage);};
    }

    function getPageLink(page, selected) {
      var node = document.createTextNode("" + (page + 1));
      var inner;
      if (selected) {
        inner = node;
      } else {
        var link = document.createElement('a');
        link.href = "#";
        link.onclick = renderBrowsePageLater(page);
        link.appendChild(node);
        inner = link;
      }

      var span = document.createElement('span');
      span.appendChild(inner);
      span.appendChild(document.createTextNode("\u00A0\u00A0"));
      return span;
    }

   // approximate char width, based on code used in AdWords (awCreateAdUtil)

    function charWidth(ch) {

      if (ch &lt;= '\u04f9' ||

          ch == '\u05be' ||

          (ch &gt;= '\u05d0' &amp;&amp; ch &lt;= '\u05ea') ||

          ch == '\u05F3' ||

          ch == '\u05f4' ||

          (ch &gt;= '\u0e00' &amp;&amp; ch &lt;= '\u0e7f') ||

          (ch &gt;= '\u1e00' &amp;&amp; ch &lt;= '\u20af') ||

          (ch &gt;= '\u2100' &amp;&amp; ch &lt;= '\u213a') ||

          (ch &gt;= '\uff61' &amp;&amp; ch &lt;= '\uffdc')) {

        return 1;

      }

      return 2;

    }

   var TRUNCATION_STRING = "...";

    function displayLength(string) {

      var count = 0;

      for (var i = 0; i &lt; string.length; i++) {

        var character = string.substr(i, 1);

        count += charWidth(character);

      }

      return count;

    }

    function truncateByWidth(string, maxLen) {

      var count = 0;

      var truncated = "";

      for (var i = 0; i &lt; string.length &amp;&amp; count &lt; maxLen; i++) {

        var character = string.substr(i, 1);

        truncated += character;

        count += charWidth(character);

      }

      return truncated;

    }



    // Truncate string to maxLen, in number of half-width (latin) characters.

    //   CJK and other languages include characters that are wider

    //   than standard latin characters, so we need to take this into account.

    function truncate(string, maxLen) {

      if (displayLength(string) &gt; maxLen) {

        string = truncateByWidth(string, maxLen - TRUNCATION_STRING.length);

        string += TRUNCATION_STRING;

      }

      return string;

    }

    function renderDuration(duration) {

      minutes = Math.floor(duration / 60);

      seconds = (duration % 60) + "";

      seconds = seconds.substr(0, 2);

      if (seconds.length == 0) {

        seconds = "00";

      } else if (seconds.length == 1) {

        seconds = "0" + seconds;

      }

      return minutes + ":" + seconds;

    }

    function renderPager(page) {
      var linksDiv = document.getElementById("pagelinks");
      clearElement(linksDiv);
      
      for (var i = 0; i &lt; videos.length; i += videosPerPage()) {
        linksDiv.appendChild(
            getPageLink(i/videosPerPage(), i == (page * videosPerPage())));
      }
    }
    
    // XML DOM helper
    function getXmlNodeText(node) {
      if (node.text) {
        // ie
        return node.text;
      } else if (node.textContent) {
        // firefox
        return node.textContent; 
      } else if (node.firstChild &amp;&amp; node.firstChild.nodeValue) {
        // safari
        return node.firstChild.nodeValue;
      } else {
        return "";
      }
    }	
&lt;/script&gt;
&lt;/head&gt;
&lt;body onload="javascript:load();");&gt;
&lt;div id="uppernav" class="hbar"&gt;

  &lt;table&gt;
    &lt;tr&gt;
      &lt;td&gt;
        &lt;a href="http://es.youtube.com" target="_top"&gt;&lt;img
            height="22" width="51" border="0"
          src="http://img0.gmodules.com/ig/modules/youtube_videos_content/ytlogo_51x22.gif" /&gt;&lt;/a&gt;
      &lt;/td&gt;
      &lt;td width="100%"&gt;
        &lt;form style="display:inline;"&gt;
          &lt;select id="channellist" onchange="changeChannel(this)"&gt;&lt;/select&gt;
        &lt;/form&gt;

      &lt;/td&gt;
      &lt;td align="right" valign="middle"&gt;
        &lt;div id="pager" class="pager"&gt;
          &lt;span&gt;Pagina: &lt;/span&gt;
          &lt;span id="pagelinks"&gt;&lt;/span&gt;
        &lt;/div&gt;
        &lt;div id="backlink" class="pager" &gt; 
          &lt;a href="javascript:void(0)" onclick="renderBrowsePage(currentPage)"
            &gt;volver a la lista&lt;/a&gt;

        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;div id="middle" class="hbar"&gt;
  &lt;div id="loading" class="loading" &gt;Cargando...&lt;/div&gt;

  &lt;div id="message" class="message"&gt;&lt;/div&gt;

  &lt;div id="watchVideos" class="contentpane" &gt;
    &lt;div id="innerWatchVideos"&gt;
      &lt;div id="video0" class="player"&gt;&lt;/div&gt;
      &lt;div id="video1" class="player"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="infopane" class="infopane" style="display:none"&gt;

      &lt;table width=100%&gt;
        &lt;tr valign=top&gt; 
          &lt;td&gt;

            &lt;span class="thumbSpan" style="float:right" &gt;
              &lt;a href="javascript:void(0)" onclick="closeInfo()"&gt;&lt;img 
                  class="thumb" style="padding-top:2px;" id="infoThumb"/&gt;&lt;/a&gt;
            &lt;/span&gt;
            &lt;span id="infoTitle" class="videotitle"&gt;&lt;/span&gt;&lt;br/&gt;
            &lt;div style="height:5px;"&gt;&lt;/div&gt;
            &lt;span class="videoinfolabel"&gt;Subidos: &lt;/span&gt;
            &lt;span id="infoAdded" class="videoinfo"&gt;&lt;/span&gt;&lt;br/&gt;
            &lt;span class="videoinfolabel"&gt;De: &lt;/span&gt;          
            &lt;a target="_top" id="infoFrom" href="" class="videoinfo"&gt;&lt;/a&gt;&lt;br/&gt;

            &lt;span class="videoinfolabel"&gt;Reproducciones: &lt;/span&gt; 
            &lt;span id="infoViews" class="videoinfo"&gt;&lt;/span&gt;&lt;br/&gt;
            &lt;span class="videoinfolabel"&gt;Puntuados: &lt;/span&gt;
            &lt;span id="infoRatings" class="videoinfo"&gt;&lt;/span&gt;&lt;br/&gt;
         &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;

          &lt;td colspan=2&gt;
            &lt;div id="loadinginfo" class="loading" &gt;Cargando...&lt;/div&gt;
            &lt;div id="infoDescription" class="description"&gt;&lt;/div&gt;
          &lt;/td&gt;
      &lt;/table&gt;
    &lt;/div&gt; 

    &lt;div class="videobar" id="videobar"&gt;
      &lt;table&gt;
        &lt;tr&gt;

          &lt;td align=left&gt;
            &lt;div&gt;
              &lt;a href="javascript:void(0)" onclick="previousVideo()"&gt;&lt;img 
                  border="0" width="17" height="17"
                  src="http://img2.gmodules.com/ig/modules/youtube_videos_content/left_17x17.gif"/&gt;&lt;/a&gt;
            &lt;/div&gt;
          &lt;/td&gt;
          &lt;td width=99%&gt;
            &lt;div id="videoTitle" class="videotitle"&gt;&lt;/div&gt;
            &lt;span id="videoDuration" class="videoinfo"&gt;&lt;/span&gt;
          &lt;/td&gt;

          &lt;td&gt;
            &lt;div id="videoMetadata" style="font-size:8pt; white-space:nowrap;"&gt;
              &lt;div id="infolink" class="infowatch"&gt;
                &lt;a href="javascript:void(0)" onclick="showInfo()"&gt;informacion&lt;/a&gt;
              &lt;/div&gt;
              &lt;div id="hideLink" class="infowatch" style="display:none;"&gt;
                &lt;a href="javascript:void(0)"
                  onclick="closeInfo()"&gt;ver&lt;/a&gt;
              &lt;/div&gt;

            &lt;/div&gt;
          &lt;/td&gt;
          &lt;td align=right&gt;
            &lt;div&gt;
              &lt;a href="javascript:void(0)" onclick="nextVideo()"&gt;&lt;img 
                  border="0" width="17" height="17"
                  src="http://img0.gmodules.com/ig/modules/youtube_videos_content/right_17x17.gif"/&gt;&lt;/a&gt;
            &lt;/div&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;

    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div id="chooseVideos" class="contentpane"&gt;
    &lt;table id="browse" style="width:100%; height:100%;"&gt;
      &lt;tr height="50%" align="center"&gt;
        &lt;td id="cell0" width="33%"&gt;
          &lt;div id="slot0" class="slot"&gt;
            &lt;a id="link0" href="javascript:void(0)"&gt;&lt;/a&gt;

            &lt;div id="title0" class="browseitemtitle"&gt;&lt;/div&gt;
            &lt;div id="duration0" class="browseitemduration"&gt;&lt;/div&gt;
          &lt;/div&gt;
        &lt;/td&gt;
        &lt;td id="cell1" width="33%"&gt;
          &lt;div id="slot1" class="slot"&gt;
            &lt;a id="link1" href="javascript:void(0)"&gt;&lt;/a&gt;
            &lt;div id="title1" class="browseitemtitle"&gt;&lt;/div&gt;
            &lt;div id="duration1" class="browseitemduration"&gt;&lt;/div&gt;

          &lt;/div&gt;
        &lt;/td&gt;
        &lt;td id="cell2" width="33%"&gt;
          &lt;div id="slot2" class="slot"&gt;
            &lt;a id="link2" href="javascript:void(0)"&gt;&lt;/a&gt;
            &lt;div id="title2" class="browseitemtitle"&gt;&lt;/div&gt;
            &lt;div id="duration2" class="browseitemduration"&gt;&lt;/div&gt;
          &lt;/div&gt;
        &lt;/td&gt;

      &lt;/tr&gt;
      &lt;tr align="center"&gt;
        &lt;td&gt;
          &lt;div id="slot3" class="slot"&gt;
            &lt;a id="link3" href="javascript:void(0)"&gt;&lt;/a&gt;
            &lt;div id="title3" class="browseitemtitle"&gt;&lt;/div&gt;
            &lt;div id="duration3" class="browseitemduration"&gt;&lt;/div&gt;
          &lt;/div&gt;
        &lt;/td&gt;

        &lt;td&gt;
          &lt;div id="slot4" class="slot"&gt;
            &lt;a id="link4" href="javascript:void(0)"&gt;&lt;/a&gt;
            &lt;div id="title4" class="browseitemtitle"&gt;&lt;/div&gt;
            &lt;div id="duration4" class="browseitemduration"&gt;&lt;/div&gt;
          &lt;/div&gt;
        &lt;/td&gt;
        &lt;td&gt;
          &lt;div id="slot5" class="slot"&gt;

            &lt;a id="link5" href="javascript:void(0)"&gt;&lt;/a&gt;
            &lt;div id="title5" class="browseitemtitle"&gt;&lt;/div&gt;
            &lt;div id="duration5" class="browseitemduration"&gt;&lt;/div&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id="searchFooter" class="hbar"&gt;
  &lt;form name="searchForm" onsubmit="doSearch(this.query.value); return false;"&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td width="100%"&gt;
          &lt;input name="query" id="query" type="text" style="width:100%"/&gt;
        &lt;/td&gt;
        &lt;td&gt; 
          &lt;input name="search" value="Buscar" type="button"
            onclick="this.form.onsubmit();"/&gt;

        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/form&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</field>
    </object>
    <object pk="4" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Localizador/1.0/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;

&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;title&gt;Localizador&lt;/title&gt;
&lt;script src="http://maps.google.com/maps?file=api&amp;amp;v=2&amp;amp;key=ABQIAAAAoMH4tTPsZmm1jaPem3DI7BQ4_NLUn61t1r9bXCIqXPpm5-RihhTyVyZWHK_kmpzl1NrJF4sXz3ZVDw" type="text/javascript"&gt;&lt;/script&gt;
&lt;script&gt;
var map=null;
var geocoder=null;
var address = new EzWebAPI.createRGadgetVariable("address",_addressHandler);

function _initialize() {
if (GBrowserIsCompatible()) {
map = new GMap2(document.getElementById("map_canvas"));
map.addControl(new GMapTypeControl());
map.addControl(new GLargeMapControl());
map.setCenter(new GLatLng(34, 0), 1);
geocoder = new GClientGeocoder();
}
}

function _addressHandler(address) {

if (address == null || address == undefined) {
  map.setCenter(new GLatLng(34, 0), 1);
  return;
}

if (geocoder) {
geocoder.getLatLng(
address,
function(point) {
if (!point) {
_initialize();
} else {
map.setCenter(point, 16);
var marker = new GMarker(point);
map.addOverlay(marker);
marker.openInfoWindowHtml(address);
}
}
);
}
}

&lt;/script&gt;
&lt;/head&gt;
&lt;body style="padding: 0px; margin: 0px" onload="_initialize();"&gt;
&lt;div id="map_canvas" style="500px; height: 400px;"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</field>
    </object>
    <object pk="5" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/LocalizadorPequeno/1.0/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;

&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;title&gt;Localizador&lt;/title&gt;
&lt;script src="http://maps.google.com/maps?file=api&amp;amp;v=2&amp;amp;key=ABQIAAAAoMH4tTPsZmm1jaPem3DI7BQ4_NLUn61t1r9bXCIqXPpm5-RihhTyVyZWHK_kmpzl1NrJF4sXz3ZVDw" type="text/javascript"&gt;&lt;/script&gt;
&lt;script&gt;
var map=null;
var geocoder=null;
var address = new EzWebAPI.createRGadgetVariable("address",_addressHandler);

function _initialize() {
if (GBrowserIsCompatible()) {
map = new GMap2(document.getElementById("map_canvas"));
map.addControl(new GMapTypeControl());
map.addControl(new GLargeMapControl());
map.setCenter(new GLatLng(34, 0), 1);
geocoder = new GClientGeocoder();
}
}

function _addressHandler(address) {

if (address == null || address == undefined) {
  map.setCenter(new GLatLng(34, 0), 1);
  return;
}

if (geocoder) {
geocoder.getLatLng(
address,
function(point) {
if (!point) {
_initialize();
} else {
map.setCenter(point, 16);
var marker = new GMarker(point);
map.addOverlay(marker);
marker.openInfoWindowHtml(address);
}
}
);
}
}

&lt;/script&gt;
&lt;/head&gt;
&lt;body style="padding: 0px; margin: 0px" onload="_initialize();"&gt;
&lt;div id="map_canvas" style="500px; height: 400px;"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</field>
    </object>
    <object pk="6" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/SimpleNotepad/1.0/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;style&gt;
#nota{
	display:block;
	border:1px solid black;
	color:black;
	padding:5px;
	font-family:"Comic Sans MS";
	width:100%;
	height:100%;
	background: #f0e68c;
	}
&lt;/style&gt;

&lt;script language="JavaScript"&gt;
var nota = EzWebAPI.createRWGadgetVariable("nota");
var bg = EzWebAPI.createRGadgetVariable("bg", setColorbg);
var textcolor = EzWebAPI.createRGadgetVariable("textcolor", setColorTexto);

function setValue ()  {
   document.getElementById('nota').value= nota.get();
}

function save(formulario){
	nota.set(formulario.nota.value);
}

function delnote(){
	nota.set("");
}

function setColorbg(color){
	var f = document.getElementById("nota");
	
	f.style.background= color;
}
function setColorTexto(color){
	var f = document.getElementById("nota");
	
	f.style.color= color;
}
function load(){
	document.getElementById('nota').value= nota.get();
	document.getElementById('nota').style.height= window.innerHeight - 42 + "px";
        document.getElementById('nota').style.background=bg.get();
        document.getElementById('nota').style.color=textcolor.get();
}
&lt;/script&gt;

&lt;/head&gt;
	&lt;body onload="javascript:load();"&gt;
		&lt;form id="formulario" onsubmit="return false;"&gt;	

			&lt;textarea id="nota"&gt;&lt;/textarea&gt;
			&lt;center&gt;
				&lt;button onclick="javascript:save(this.form)"&gt;Guardar&lt;/button&gt;
				&amp;nbsp;&amp;nbsp;
				&lt;input type="reset" value="Borrar" onclick="javascript:delnote()"/&gt;
			&lt;/center&gt;
		&lt;/form&gt;	
	&lt;/body&gt;
&lt;/html&gt;
</field>
    </object>
    <object pk="7" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/RSSReader/1.0/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;script language="javascript" src="http://www.prototypejs.org/assets/2007/11/6/prototype.js"&gt;&lt;/script&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;title&gt;RSS Reader&lt;/title&gt;
    &lt;script language="javascript"&gt;

var rssUrl = EzWebAPI.createRGadgetVariable("rssUrl",_Handler);
//shows the RSS content in the browser
function showRSS(RSS)
{
	//default values for html tags used
	var imageTag = "&lt;img class='chan_image'";
	var startItemTag = "&lt;div class='item'&gt;";
	var startTitle = "&lt;div class='item_title'&gt;";
	var startLink = "&lt;div class='item_link'&gt;";
	var startDescription = "&lt;div class='item_description'&gt;";
	var endTag = "&lt;/div&gt;";

	//populate channel data
	var properties = new Array("title","link","description","pubDate","copyright");
	for (var i=0; i&lt;properties.length; i++)
	{
		eval("document.getElementById('chan_"+properties[i]+"').innerHTML = ''");
		curProp = eval("RSS."+properties[i]);
		if (curProp != null)
			eval("document.getElementById('chan_"+properties[i]+"').innerHTML = curProp");
		if (properties[i] == 'link')
		{
			document.getElementById("chan_link").href = curProp;
			document.getElementById("chan_link").target = '_blank';
		}
	}

	//show the image
	document.getElementById("chan_image_link").innerHTML = "";
	if (RSS.image.src != null)
	{
		document.getElementById("chan_image_link").href = RSS.image.link;
		document.getElementById("chan_image_link").innerHTML = imageTag
			+" alt='"+RSS.image.description
			+"' width='"+RSS.image.width
			+"' height='"+RSS.image.height
			+"' src='"+RSS.image.url
			+"' "+"/&gt;";
	}

	//populate the items
	document.getElementById("chan_items").innerHTML = "";
	for (var i=0; i&lt;RSS.items.length; i++)
	{
		item_html = startItemTag;
		item_html += (RSS.items[i].title == null) ? "" : startTitle + "&lt;a href=\"javascript:toggle('item_" + i + "');\"&gt;" + RSS.items[i].title + "&lt;/a&gt;" + endTag;
		item_html += "&lt;div id='item_" + i + "' class='item_content' style='display:none;'&gt;";
		item_html += (RSS.items[i].link == null) ? "" : startLink + "&lt;a href='" + RSS.items[i].link +"' target='_black'&gt;see more...&lt;/a&gt;" + endTag;
		item_html += (RSS.items[i].description == null) ? "" : startDescription + RSS.items[i].description + endTag;
		item_html += endTag;
		item_html += endTag;
		document.getElementById("chan_items").innerHTML += item_html;
	}
        var descriptions = document.getElementsByClassName("item_description");
        for (var i=0; i&lt;descriptions.length; i++)
        {
             var links = descriptions[i].getElementsByTagName("a");
               for (var j=0; j&lt;links.length; j++)
               {
                     links[j].target="_blank";
                }
        }

                
	//we're done
	//document.getElementById("chan").style.visibility = "visible";
	return true;
}


//OBJECTS

//objects inside the RSS2Item object
function RSS2Enclosure(encElement)
{
	if (encElement == null)
	{
		this.url = null;
		this.length = null;
		this.type = null;
	}
	else
	{
		this.url = encElement.getAttribute("url");
		this.length = encElement.getAttribute("length");
		this.type = encElement.getAttribute("type");
	}
}

function RSS2Guid(guidElement)
{
	if (guidElement == null)
	{
		this.isPermaLink = null;
		this.value = null;
	}
	else
	{
		this.isPermaLink = guidElement.getAttribute("isPermaLink");
		this.value = guidElement.childNodes[0].nodeValue;
	}
}

function RSS2Source(souElement)
{
	if (souElement == null)
	{
		this.url = null;
		this.value = null;
	}
	else
	{
		this.url = souElement.getAttribute("url");
		this.value = souElement.childNodes[0].nodeValue;
	}
}

//object containing the RSS 2.0 item
function RSS2Item(itemxml)
{
	//required
	this.title;
	this.link;
	this.description;

	//optional vars
	this.author;
	this.comments;
	this.pubDate;

	//optional objects
	this.category;
	this.enclosure;
	this.guid;
	this.source;

	var properties = new Array("title", "link", "description", "author", "comments", "pubDate");
	var tmpElement = null;
	for (var i=0; i&lt;properties.length; i++)
	{
		tmpElement = itemxml.getElementsByTagName(properties[i])[0];
		if (tmpElement != null)
			eval("this."+properties[i]+"=tmpElement.childNodes[0].nodeValue");
	}

	this.category = new RSS2Category(itemxml.getElementsByTagName("category")[0]);
	this.enclosure = new RSS2Enclosure(itemxml.getElementsByTagName("enclosure")[0]);
	this.guid = new RSS2Guid(itemxml.getElementsByTagName("guid")[0]);
	this.source = new RSS2Source(itemxml.getElementsByTagName("source")[0]);
}

//objects inside the RSS2Channel object
function RSS2Category(catElement)
{
	if (catElement == null)
	{
		this.domain = null;
		this.value = null;
	}
	else
	{
		this.domain = catElement.getAttribute("domain");
		this.value = catElement.childNodes[0].nodeValue;
	}
}

//object containing RSS image tag info
function RSS2Image(imgElement)
{
	if (imgElement == null)
	{
	this.url = null;
	this.link = null;
	this.width = null;
	this.height = null;
	this.description = null;
	}
	else
	{
		imgAttribs = new Array("url","title","link","width","height","description");
		for (var i=0; i&lt;imgAttribs.length; i++)
			if (imgElement.getAttribute(imgAttribs[i]) != null)
				eval("this."+imgAttribs[i]+"=imgElement.getAttribute("+imgAttribs[i]+")");
	}
}

//object containing the parsed RSS 2.0 channel
function RSS2Channel(rssxml)
{
	//required
	this.title;
	this.link;
	this.description;

	//array of RSS2Item objects
	this.items = new Array();

	//optional vars
	this.language;
	this.copyright;
	this.managingEditor;
	this.webMaster;
	this.pubDate;
	this.lastBuildDate;
	this.generator;
	this.docs;
	this.ttl;
	this.rating;

	//optional objects
	this.category;
	this.image;

	var chanElement = rssxml.getElementsByTagName("channel")[0];
	var itemElements = rssxml.getElementsByTagName("item");

	for (var i=0; i&lt;itemElements.length; i++)
	{
		Item = new RSS2Item(itemElements[i]);
		this.items.push(Item);
		//chanElement.removeChild(itemElements[i]);
	}

	var properties = new Array("title", "link", "description", "language", "copyright", "managingEditor", "webMaster", "pubDate", "lastBuildDate", "generator", "docs", "ttl", "rating");
	var tmpElement = null;
	for (var i=0; i&lt;properties.length; i++)
	{
		tmpElement = chanElement.getElementsByTagName(properties[i])[0];
		if (tmpElement!= null)
			eval("this."+properties[i]+"=tmpElement.childNodes[0].nodeValue");
	}

	this.category = new RSS2Category(chanElement.getElementsByTagName("category")[0]);
	this.image = new RSS2Image(chanElement.getElementsByTagName("image")[0]);
}
	
	
	function processRSS (response)
	{
		document.getElementById("formlink").style.display = 'block';
		document.getElementById("feedform").style.display = 'none';
		RSS = new RSS2Channel (response.responseXML);
		showRSS(RSS);
	}
	function failedRSS (response)
	{
		document.getElementById("formlink").style.display = 'block';
		document.getElementById("feedform").style.display = 'none';
		alert ("Error al obtener el feed");
	}	
	function _Handler(value)
	{
		EzWebAPI.send_get (value, this, processRSS, failedRSS);
	}
	function setRSS()
	{
		EzWebAPI.send_get (document.getElementById("rss").value, this, processRSS, failedRSS);
	}
        function showForm()
	{
		document.getElementById("formlink").style.display = 'none';
		document.getElementById("feedform").style.display = 'block';
	}
	var last_show = "";

	function show(id) 
	{
		document.getElementById(id).style.display = "block";
	}

	function hide(id) 
	{
		if (id != "") document.getElementById(id).style.display = "none";
	}

	function toggle(id)
	{
		if (document.getElementById(id).style.display == "none")
		{
			hide(last_show);
			show(id);
			last_show = id;
		}
		else hide(id);
	}
    &lt;/script&gt;
	&lt;style type="text/css"&gt;
		body {	
			background-color: #ffffcc;
			font-size:14px;
		}
		
		a {
			color:blue;
			text-decoration:none;
		}
		
		a:hover {
			text-decoration:underline;
		}
		
		.item_content {
			background-color: #ffffaa
		}
		
		#chan_title {
			font-size:20px;
			font-weight:bold;
		}
		
		.item_title a {
			font-weight:bold;
			color:black;
			text-decoration:underline;
		}
		
		#chan_items { 
			margin: 10px; 
		}
		
		.item { 
			margin-bottom: 2px; 
		}

		#chan_pubDate {
			font-size:12px;
		}
	&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="formlink" style="display:block"&gt;&lt;a href="javascript:showForm();"&gt;Introducir fuente RSS&lt;/a&gt;&lt;/div&gt;
    &lt;div id="feedform" style="display:none"&gt;
        Feed URL: &lt;input type="text" id="rss" name="rss" /&gt;
        &lt;button onclick="setRSS(); return false;"&gt;Obtener RSS&lt;/button&gt;
    &lt;/div&gt;
    &lt;div id="chan"&gt;
        &lt;div id="chan_title"&gt;Esperando RSS...&lt;/div&gt;
        &lt;a id="chan_link" href=""&gt;&lt;/a&gt;
        &lt;div id="chan_description"&gt;&lt;/div&gt;
        &lt;a id="chan_image_link" href=""&gt;&lt;/a&gt;
        &lt;div id="chan_items"&gt;&lt;/div&gt;
        &lt;div id="chan_pubDate"&gt;&lt;/div&gt;
        &lt;div id="chan_copyright"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;


</field>
    </object>
    <object pk="8" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/RSSList/1.0/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;script language="javascript" src="http://europa.ls.fi.upm.es/ezweb/gadgets/webtoolkit.url.js"&gt;&lt;/script&gt;
&lt;title&gt;RSS List&lt;/title&gt;
    &lt;script language="javascript"&gt;
var URL = "http://indus.ls.fi.upm.es:7000/rss/urls";
var rssUrl = EzWebAPI.createRWGadgetVariable("rssUrl");

EzWebAPI.send_get (URL, this, getSuccess, getError);


function setRSS (feed)
{
    rssUrl.set (feed);
}

function getSuccess (response)
{
	feeds = response.responseXML.getElementsByTagName("url");
	for (var i=0; i&lt;feeds.length; i++)
	{
		addRSS (feeds[i].firstChild.nodeValue);
	}
}

function getError (response)
{
alert ("Error al obtener la lista de feeds");
}

function postSuccess (response)
{
	feeds = response.responseXML.getElementsByTagName("url");
	addRSS (feeds[0].firstChild.nodeValue);
}

function postError (response)
{
alert ("Error al salvar el feed");
}

function addRSS (feed)
{
	var html = "&lt;li&gt;&lt;a href=\"javascript:setRSS('" + feed + "');\"&gt;" + feed + "&lt;/a&gt;&lt;/li&gt;";
	document.getElementById("list").innerHTML = document.getElementById("list").innerHTML + html;
}

function newRSS ()
{
	var RSSurl = Url.encode(document.getElementById("textRSS").value);
	var params = "url=" + RSSurl;
	EzWebAPI.send_post (URL,params,this,postSuccess,postError);
}

&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;A&amp;ntilde;adir Feed&lt;/h1&gt;
&lt;div class="addFeed"&gt;
RSS: &lt;input type="text" id="textRSS" /&gt;
&lt;button onclick="newRSS();"&gt;A&amp;ntilde;adir&lt;/button&gt;
&lt;/div&gt;
&lt;h1&gt;Lista de Feeds&lt;/h1&gt;
&lt;div class="feedList"&gt;
&lt;ul id="list"&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</field>
    </object>
    <object pk="9" model="gadget.xhtml">
        <field type="CharField" name="uri">/user/admin/gadgets/Morfeo/Visor_Datos_Usuario/1.0/xhtml</field>
        <field type="TextField" name="code">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;

&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"&gt;&lt;/script&gt;
&lt;title&gt;Visor de datos de usuario&lt;/title&gt;
&lt;script&gt;
var phoneNumber = EzWebAPI.createRGadgetVariable("phoneNumber",_phoneHandler);
var address = EzWebAPI.createRWGadgetVariable("address");
/*Temporary data for the demo*/
var users = [];
var user = ["Alejandro","Rodriguez Perez","07688357J","Santa Engracia, 25, 1 B, Madrid","35.50","2"];
users["913933233"] = user;
user = ["Marta","Lopez Romero","34788114L","Marcelo Usera, 46, 3 C, Madrid","40.74","1"];
users["915334432"] = user;
user = ["Rodrigo","Fernandez Bartolome","53333236P","Gran Via, 25, 2 A, Madrid","55.29","8"];
users["916432233"] = user;
user = ["Maria","Perez Casas","34788114L","Francisco Silvela, 105, 5 B, Madrid","66.15","3"];
users["917294723"] = user;
user = ["Alberto","Garcia Casas","34788114L","Camarena, 2, 4 A, Madrid","36.00","3"];
users["917744331"] = user;

function _phoneHandler(phone){
if (phone!=null &amp;&amp; phone!=undefined){
var content="";
content+="&lt;p id='title' style=\"font-size: 22px; font-weight: bold; color: #000077; margin-top: 5px; margin-bottom: 5px;\"&gt;Tabla de Datos de Usuario&lt;/p&gt;&lt;table style=\"padding: 1px;\"&gt;";
content+="&lt;tr&gt;&lt;th&gt;Datos del Usuario&lt;/th&gt;&lt;th&gt;Valor&lt;/th&gt;&lt;/tr&gt;";
content+="&lt;tr&gt;&lt;td&gt;Nombre&lt;/td&gt;&lt;td&gt;"+users[phone][0]+"&lt;/td&gt;&lt;/tr&gt;";
content+="&lt;tr&gt;&lt;td&gt;Apellidos&lt;/td&gt;&lt;td&gt;"+users[phone][1]+"&lt;/td&gt;&lt;/tr&gt;";
content+="&lt;tr&gt;&lt;td&gt;DNI&lt;/td&gt;&lt;td&gt;"+users[phone][2]+"&lt;/td&gt;&lt;/tr&gt;";
content+="&lt;tr&gt;&lt;td&gt;Direccion&lt;/td&gt;&lt;td&gt;"+users[phone][3]+"&lt;/td&gt;&lt;/tr&gt;";
content+="&lt;tr&gt;&lt;td&gt;Factura media&lt;/td&gt;&lt;td&gt;"+users[phone][4]+"&lt;/td&gt;&lt;/tr&gt;";
content+="&lt;tr&gt;&lt;td&gt;Antiguedad&lt;/td&gt;&lt;td&gt;"+users[phone][5]+"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;";
document.getElementById("info").innerHTML=content;
address.set(users[phone][3]);
}
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body style="font-family: Arial; font-size: 14px; text-align: left; width: 95%; margin: 0px; padding: 1px;"&gt;
&lt;div id='info'&gt;&lt;i&gt;A la espera de seleccionar una averia...&lt;/i&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</field>
    </object>
</django-objects>
