<html>
<head>
<title>Register a new contract for a gadget on EzWeb</title>

<script language="javascript">
    function send (form) {
        var gadget_id = form.gadget_id.value;
        var username = form.username.value;
        var free = form.free.checked;
        
        var form_url = form.action + gadget_id;
        
        form.action = form_url;
        
        var json = '{"username": "' + username + '", "free": ' + free + '}';
        
        form.contract_info.value = json;
        
        return true;
    }
</script>

</head>
<body>
    <form action="/contract/subscribe/resource/" method="post" name="contract_form"  onsubmit="return send(this)">
        Gadget ID: <input type="text" name="gadget_id" />
        Username: <input type="text" name="username" />
        Free?: <input type="checkbox" name="free" />
        
        <input type="hidden" name="contract_info" />
        
        <input type="submit" value="Register contract">
    </form>
</body>
</html>