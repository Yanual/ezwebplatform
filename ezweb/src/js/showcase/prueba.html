 <html>
<head id="head">
<title>Prueba</title>
<script language="JavaScript" src="../lib/prototype.js"></script>
<script language="JavaScript" src="../opManager/OpManager.js"></script>
<script language="JavaScript" src="../persistenceEngine/PersistenceEngine.js"></script>
<script language="JavaScript" src="../gadgetModel/XHtml.js"></script>
<script language="JavaScript" src="../gadgetModel/Template.js"></script>
<script language="JavaScript" src="../gadgetModel/Gadget.js"></script>
<script language="JavaScript" src="util.js"></script>
<script language="JavaScript" src="showcase.js"></script>
<script language="JavaScript">
	
	var myshowcase = ShowcaseFactory.getInstance();
	
	function details(gadgetId_){
		var detailsDiv = $('details_' + gadgetId_);
		if (detailsDiv.style.display == 'block'){
			detailsDiv.style.display = 'none';
			return;
		}
		var gadgetProps = myshowcase.getGadgetProperties(gadgetId_);
		$('template_' + gadgetId_).value = gadgetProps[0];  
		$('xhtml_' + gadgetId_).value = gadgetProps[1];
		$('details_' + gadgetId_).style.display='block'
	}
	
	function edit (gadgetId_){
		var editDiv = $('edit_' + gadgetId_);
		if (editDiv.style.display == 'block'){
			editDiv.style.display = 'none';
		}else{
			var gadgetProps = myshowcase.getGadgetProperties(gadgetId_);
			$('image_url_' + gadgetId_).value =  gadgetProps[2];
			$('tags_' + gadgetId_).value = gadgetProps[3];
			editDiv.style.display = 'block';
		}
		
	}
	
	function saveGadgetDetails(gadgetId_){
		var imageSrc = $('image_url_' + gadgetId_).value;
		var tags = $('tags_' + gadgetId_).value;
		myshowcase.setGadgetProperties(gadgetId_, imageSrc, tags.split(' '));
		myshowcase.repaint();
	}
	
	function deleteGadget (gadgetId_){
		myshowcase.deleteGadget(gadgetId_);
		myshowcase.repaint();
	}
	
	function show(){
		myshowcase.repaint();
	}


</script>

</head>

<body onload="show()">

<div id="showcase">
	
	<!--
		<table border="1">
			<tr><td>
				<table>
					<tr>
						<td style="float: right;">
							 <a href="javascript:;" onClick="details('vendor_1_gadget_1_1');">details</a> / <a href="javascript:;" onClick="edit('vendor_1_gadget_1_1');">edit</a> / <a href="javascript:;" onClick="deleteGadget('vendor_1_gadget_1_1')">delete</a>
						</td>
					</tr>
					<tr>
						<td>
							<div id="details_vendor_1_gadget_1_1" style="display: none">
								<table>
									<tr>
										<td>
											<label>Template</label>
										</td>
									</tr>
									<tr>
										<td>
											<input id="template_vendor_1_gadget_1_1" type="text" readonly>											
										</td>
									</tr>
									<tr>
										<td>
											<label>XHTML</label>
										</td>
									</tr>
									<tr>
										<td>
											<input id="xhtml_vendor_1_gadget_1_1" type="text" readonly>			
										</td>
									</tr>
								</table>
							</div>
						</td>
					</tr>
					<tr>
						<td style="float: center;">
							<div id="edit_vendor_1_gadget_1_1" style="display: none">
								<table>
									<tr>
										<td>
											<label>Image URL</label>
										</td>
										<td>
											<input id="image_url_vendor_1_gadget_1_1" type="text" maxlength="255" style="width: 400px;"/>
										</td>
									</tr>
									<tr>
										<td>
											<label>Tags</label>
										</td>
										<td>
											<input id="tags_vendor_1_gadget_1_1" type="text" maxlength="255" style="width: 400px;"/>
										</td>
									</tr>
									<tr>	
										<td>
											<label> </label>
										</td>
										<td>
											<input type="button" style="font-weight: bold; float: left;" value="save" onClick="saveGadgetDetails('vendor_1_gadget_1_1')">
											<input type="button" style="margin-left: 10px; clear: none; float: left;" value="cancel" onClick="$('edit_vendor_1_gadget_1_1').style.display='none'">
										</td>
									</tr>
								</table
							</div>
						</td>
					</tr>
					</tr>
					<tr>
						<td align="left">
							vendor: vendor_1, name: name_1, version: version_1
						</td>
					</tr>
					<tr>
						<td align="center">
							<img id="image_vendor_1_gadget_1_1" src="img/selector_queries_pequeo.jpg" width="120" height="60" alt="Image cannot be shown">
						</td>
					</tr>
					<tr>
						<td align="left">
							tags: tag_1, tag_2
						</td>
					</tr>
					<tr>
						<td align="center">
							<input type="button" value="add">
						</td>
					</tr>
				</table>
			</td></tr>
		</table>
	-->
	
</div>


</body>
</html>
