<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>
    <title>EzWeb Platform</title>

    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />

    <script type="text/javascript" language="javascript" src="lib/prototype.js"></script>

    <script type="text/javascript" language="javascript" src="common/modules.js"></script>
    <script type="text/javascript" language="javascript" src="common/uris.js"></script>
    <script type="text/javascript" language="javascript" src="persistenceEngine/PersistenceEngine.js"></script>

    <script type="text/javascript" language="javascript" src="varManager/VariableGadget.js"></script>
    <script type="text/javascript" language="javascript" src="varManager/VariablePlatform.js"></script>
    <script type="text/javascript" language="javascript" src="varManager/varManager.js"></script>

    <script type="text/javascript" language="javascript" src="opManager/OpManager.js"></script>
    <script type="text/javascript" language="javascript" src="showcase/showcase.js"></script>

<script type="text/javascript" language="javascript" src="lib/scriptaculous/scriptaculous.js"></script>
    <script type="text/javascript" language="javascript" src="dragboard/dragboard.js"></script>
    <script type="text/javascript" language="javascript" src="dragboard/UserPref.js"></script>

    <script type="text/javascript" language="javascript" src="wiring/wiring.js"></script>

	<style type="text/css">
		body, html {
			margin: 0px;
			padding: 0px;
		}

		.button {
			cursor: pointer;
		}

		#dragboard {
			min-width: 400px;
			position: relative;
		}

		div.gadget_window {
			position: absolute;
			border: 1px solid blue;
			background: white;
		}

		div.gadget_window div.gadget_menu {
			cursor: move;
			background: #AAA;
			border: 1px solid blue;
			padding: 3px;
		}

		div.gadget_window div.gadget_menu div.button {
			display: inline;
			margin: 0 3px;
			border: 1px solid blue;
			background: #DDD;
		}

		.left {
			float: left;
		}

		.right {
			float: right;
		}

		#dragboardcursor {
			position:absolute;
			border: 3px dashed #AAA;
			z-index: 1;
		}
	</style>

	<!-- style used for debug elements -->
	<style type="text/css">
		div.gadget_window {
			z-index: 1000;
		}
		#grid {
			position: absolute;
			top: 0px;
			left: 0px;
			right: 0px;
			height: 100%;
			width: 100%;
		}
		div.cell {
			position: absolute;
			width: 30%;
			height: 15px;
			border: 1px dashed gray;
			z-indez: 0;
		}
		div.occupedcell {
			position: absolute;
			width: 30%;
			height: 15px;
			background: yellow;
			z-indez: 0;
		}
		#dragboard {
			position: absolute;
			top: 10%;
			left: 10%;
			right: 10%;
			height: 90%;
			background: #EEE;
		}
		#debugconsole {
			border-top: 1px solid gray;
			opacity: 0.80;
			color: white;
			background: black;
			position: absolute;
			bottom: 0px;
			left: 0px;
			right: 0px;
			overflow: auto;
			height: 200px;
		}
		#dragboardcursor {
			top: 195px;
			left: 35%;
			width: 30%;
			height:60px;
			border: 2px dashed gray;
			z-index: 1;
		}
	</style>

</head>

<body>
    <div id="dragboard"></div>

<!--	<div id="debugconsole">EzWeb Platform [debug console]:<br /></div>-->
    <script type="text/javascript" language="javascript">
//		var opManager = OpManagerFactory.getInstance();
//		opManager.loadEnviroment();
		DragboardFactory.getInstance();

		function addIGadget() {
			var dragboard = DragboardFactory.getInstance();
			var newIGadget = dragboard.addInstance(null);
			dragboard.showInstance(newIGadget);
		}
		function repaint() {
			var dragboard = DragboardFactory.getInstance();
			dragboard.repaint();
		}
    </script>

    <div class="button" onclick="javascript:addIGadget()" >AÃ±adir Gadget</div>
    <div class="button" onclick="javascript:repaint()" >Redibujar</div>
</body>
</html>
